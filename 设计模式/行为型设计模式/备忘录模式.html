<!DOCTYPE html>
<html lang="en" >
<head >
  <meta charset="UTF-8" >
  <title >备忘录模式</title >
</head >
<body >
<script>
  // 备忘录模式：在不破坏对象的封装性的前提下，在对象之外捕获并保存该对象内部的状态以便日后恢复到以前的某个状态
  // 类似于canvas的store() 可以随时restore()回之前的状态
  // 这样可以避免浪费多余的性能去获取已经获取过的数据, 而且可以改善网络较差时的体验，减少手机流量的使用
  // 例如分页

  var Page = (function () {
    var cache = []

    return function (page) {
      if (cache[page]) {
        console.log('使用缓存数据', cache[page])
      } else {
        console.log('发送请求获取数据', page + '页')
        cache[page] = {
          name: page + '页'
        }
      }
    }
  })()

  Page(0)
  Page(1)
  Page(1)
  Page(0)


</script>
</body >
</html >